---
import WidgetWrapper from '../ui/WidgetWrapper.astro';
import { Icon } from 'astro-icon/components';

const { id, isDark = false, containerClass = '', bg = await Astro.slots.render('bg') } = Astro.props;
---

<WidgetWrapper id={id} isDark={true} containerClass={`max-w-7xl mx-auto ${containerClass}`} bg={bg}>
  <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=2072&q=80')] bg-cover bg-center opacity-20"></div>
  <div class="relative z-10 py-20 px-4 md:px-8 text-white">
    <div class="flex flex-col md:flex-row items-center gap-12">
      <div class="flex-1">
        <h2 class="text-3xl md:text-4xl font-bold mb-6">Governed AI Readiness Score</h2>
        <p class="text-xl text-gray-300 mb-8">
          We evaluate your environment across 6 critical categories, weighting them to produce a single readiness metric. This provides a clear target and tracks improvement over time.
        </p>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
          <div class="bg-white/10 backdrop-blur p-4 rounded-xl border border-white/20">
            <Icon name="tabler:scoreboard" class="w-8 h-8 mb-2 text-blue-400" />
            <h4 class="font-bold">Comprehensive</h4>
            <p class="text-sm text-gray-400">Composite 0-100 score</p>
          </div>
          <div class="bg-white/10 backdrop-blur p-4 rounded-xl border border-white/20">
            <Icon name="tabler:robot" class="w-8 h-8 mb-2 text-purple-400" />
            <h4 class="font-bold">Automated</h4>
            <p class="text-sm text-gray-400">Machine-checkable metrics</p>
          </div>
          <div class="bg-white/10 backdrop-blur p-4 rounded-xl border border-white/20">
            <Icon name="tabler:list-check" class="w-8 h-8 mb-2 text-green-400" />
            <h4 class="font-bold">Actionable</h4>
            <p class="text-sm text-gray-400">Ranked remediation tasks</p>
          </div>
        </div>
      </div>
      <div class="flex-1 flex justify-center">
        <!-- Gauge Visualization -->
        <div class="relative w-64 h-64">
           <svg class="w-full h-full transform -rotate-90" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="45" fill="none" stroke="#374151" stroke-width="6" />
            <circle cx="50" cy="50" r="45" fill="none" stroke="#ea580c" stroke-width="6" stroke-dasharray="283" stroke-dashoffset="70" stroke-linecap="round" class="drop-shadow-[0_0_15px_rgba(234,88,12,0.5)]" />
          </svg>
          <div class="absolute inset-0 flex flex-col items-center justify-center">
            <span class="text-6xl font-bold text-white">75</span>
            <span class="text-sm uppercase tracking-wider text-gray-400">Readiness Score</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</WidgetWrapper>
